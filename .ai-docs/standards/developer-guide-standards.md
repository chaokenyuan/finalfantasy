# Developer Guide Standards
# 開發人員行為規範

## 🎯 開發原則

### 1. 資訊先行原則 (Information-First Principle)

**🔴 強制要求**: 開發前必須先獲得完整資訊，嚴格按照優先順序執行

#### 資訊優先順序排序
```yaml
優先順序:
  1. 範例 (Examples) - 具體程式碼實例、API 範例、資料結構範例
  2. 流程圖 (Flowcharts) - 業務流程、系統流程、決策樹
  3. 時序圖 (Sequence Diagrams) - 系統互動、API 呼叫順序、生命週期
  4. 對照表格 (Mapping Tables) - 欄位對照、狀態轉換、規則對照
  5. 完整的 end-to-end 文字描述 - 詳細的業務邏輯說明
```

#### 🚫 強制停止機制
```yaml
停止條件:
  - 缺乏任何上述優先資料
  - 判斷資訊不完整
  - 存在歧義或不確定性
  - 沒有明確的範例參考

停止行為:
  - 立即停止開發活動
  - 等待資訊補充
  - 記錄缺失資訊清單
  - 向需求提供者說明所需資料

禁止行為:
  - 🚫 嚴禁自行補充資訊
  - 🚫 嚴禁推測或假設
  - 🚫 嚴禁憑經驗開發
  - 🚫 嚴禁先開發再修正
```

### 2. 範例驅動開發 (Example-Driven Development)

#### 必要範例清單
```markdown
### 程式碼範例
- [ ] 相似功能的現有實現
- [ ] API 呼叫範例（含 request/response）
- [ ] 資料結構定義範例
- [ ] 錯誤處理範例

### 業務範例
- [ ] 實際資料範例
- [ ] 業務場景範例
- [ ] 邊界案例範例
- [ ] 異常情況範例

### 測試範例
- [ ] 單元測試範例
- [ ] 整合測試範例
- [ ] .feature 檔案範例
- [ ] 測試資料範例
```

### 3. 流程圖引導開發

#### 必備流程圖類型
```yaml
系統流程圖:
  - 主要業務流程
  - 異常處理流程
  - 資料同步流程
  - 決策邏輯流程

技術流程圖:
  - API 呼叫流程
  - 資料處理流程
  - 批次處理流程
  - 錯誤恢復流程
```

#### 流程圖驗證檢查點
```markdown
- [ ] 所有路徑都有明確的開始和結束
- [ ] 異常路徑處理完整
- [ ] 決策點邏輯清晰
- [ ] 與範例程式碼一致
```

### 4. 時序圖驅動設計

#### 必要時序圖範圍
```yaml
API 互動:
  - 外部 API 呼叫時序
  - 內部服務互動時序
  - 資料庫操作時序
  - 批次處理時序

生命週期:
  - 物件生命週期
  - 資料狀態轉換
  - 交易處理生命週期
  - 錯誤處理生命週期
```

### 5. 對照表格精準實現

#### 對照表格類型
```yaml
欄位對照:
  - API 欄位 ↔ 資料庫欄位
  - 批次檔案 ↔ 資料庫欄位
  - 不同 API 間欄位對照
  - 資料格式轉換對照

狀態對照:
  - 業務狀態轉換表
  - 系統狀態對照表
  - 錯誤碼對照表
  - 設定參數對照表

規則對照:
  - 業務規則 ↔ 實現邏輯
  - 驗證規則 ↔ 檢查程式碼
  - 轉換規則 ↔ 處理邏輯
```

## 🛡️ 專案準則遵循

### 2. 專案規則檢查 (Project Rules Compliance)

```yaml
規則文件路徑: "project-rule/*.md"

檢查順序:
  1. 檢查 project-rule 目錄是否存在
  2. 讀取所有 .md 檔案
  3. 按檔案名稱排序執行
  4. 逐一驗證規則符合性

無規則處理:
  - 若無 project-rule 目錄 → 跳過此檢查
  - 若目錄為空 → 跳過此檢查
  - 若檔案無法讀取 → 記錄並跳過
```

#### 規則遵循驗證清單
```markdown
- [ ] 所有 project-rule/*.md 檔案已讀取
- [ ] 命名規範符合專案規則
- [ ] 程式碼結構符合專案規則  
- [ ] API 設計符合專案規則
- [ ] 資料格式符合專案規則
- [ ] 錯誤處理符合專案規則
```

## ⚡ 執行程序

### 開發前檢查清單

```markdown
### Phase 1: 資訊收集檢查
- [ ] 範例程式碼收集完成
- [ ] 流程圖確認無誤
- [ ] 時序圖驗證完成
- [ ] 對照表格準備齊全
- [ ] end-to-end 描述詳細完整

### Phase 2: 專案規則檢查
- [ ] project-rule/*.md 檔案掃描完成
- [ ] 所有專案規則理解無誤
- [ ] 規則與開發計劃無衝突

### Phase 3: 開發許可確認
- [ ] 所有必要資訊已就緒
- [ ] 無資訊缺失或歧義
- [ ] 專案規則確認遵循
- [ ] 開發計劃符合資訊與規則

✅ **只有當上述所有檢查都通過時，才能開始實際開發工作**
```

### 開發中持續檢查

```markdown
### 開發進行中
- [ ] 實現與範例一致
- [ ] 流程按照流程圖執行
- [ ] 時序符合時序圖設計
- [ ] 欄位對照嚴格按照表格
- [ ] 邏輯符合 end-to-end 描述

### 發現問題時
- [ ] 立即停止開發
- [ ] 記錄問題與缺失資訊
- [ ] 要求補充或確認資訊
- [ ] 等待資訊完整後再繼續
```

## 🚫 禁止行為

### 絕對禁止的開發行為

```yaml
自行補充資訊:
  - 🚫 推測 API 結構
  - 🚫 假設資料格式
  - 🚫 自創業務邏輯
  - 🚫 憑經驗填補空白

跳過檢查步驟:
  - 🚫 跳過資訊收集
  - 🚫 跳過專案規則檢查
  - 🚫 跳過範例驗證
  - 🚫 跳過對照表檢查

先開發後修正:
  - 🚫 邊開發邊確認
  - 🚫 先實現再調整
  - 🚫 試錯型開發
  - 🚫 迭代式猜測
```

## 📋 資訊不足處理程序

### 缺失資訊處理流程

```markdown
### 1. 立即停止
- 停止所有開發活動
- 保存當前工作狀態
- 記錄已完成部分

### 2. 缺失分析
- 明確列出缺失的資訊類型
- 按優先順序排序缺失項目
- 評估對開發的影響程度

### 3. 資訊需求描述
- 具體描述所需資訊內容
- 說明資訊用途和重要性
- 提供資訊格式範例

### 4. 等待補充
- 暫停開發直到資訊完整
- 定期確認資訊補充狀態
- 收到資訊後重新驗證完整性
```

### 資訊需求範本

```markdown
## 缺失資訊清單

### 高優先級缺失 (阻斷開發)
- [ ] 範例: [具體描述需要的範例類型]
- [ ] 流程圖: [描述需要的流程圖範圍]
- [ ] 對照表: [描述需要的對照關係]

### 中優先級缺失 (影響品質)
- [ ] 時序圖: [描述需要的互動時序]
- [ ] 詳細描述: [需要澄清的業務邏輯]

### 專案規則確認
- [ ] project-rule/*.md 檔案存在性確認
- [ ] 特定規則適用性確認

## 資訊需求說明
[詳細說明為什麼需要這些資訊，以及它們如何影響開發]
```

---

## 🎯 成功標準

遵循本規範的開發人員應該能夠：

1. **零歧義開發**: 基於完整資訊進行開發，避免推測
2. **高品質實現**: 嚴格按照範例和規範實現功能
3. **規範一致性**: 確保所有實現符合專案規則
4. **文檔追蹤性**: 每個實現都可以追溯到對應的資訊來源
5. **風險控制**: 在資訊不足時主動停止，避免錯誤實現

---

**適用範圍**: 所有開發人員  
**強制等級**: 強制遵循  
**更新日期**: 2025-09-23